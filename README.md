LATtice version 1.0
===================

(__Note:__ This no longer compiles with the latest version of Processing as there were some fairly major changes to the API. It's really easy to port this to the new API if someone wants to do it, but I probably won't get around to it in the near future. --Anupam)

Written by __ANUPAM BASU__ for the __"Visualizing English Print, 1470-1800"__ project funded by the Andrew W. Mellon Foundation.

1. Introduction
2. Setup and requirements
3. Usage
	1. Using the LATtice panels
        1. Heat-map
        2. LAT comparison 
        3. LAT differences
        4. LAT scatterplot
        5. LAT box and whisket plots
   2.   Preparing data files 
   3.  Utilizing meta-data       
4. Test cases with sample data-sets
   1.  Paradise Lost
   2. Plays by Shakespeare
5. Suggestions and bug-reporting


INTRODUCTION
------------

LATtice is designed to allow us to explore similarities and differences between literary texts tagged with DocuScope. Docuscope generates vectors for each text consisting of relative frequencies of LATs (Language Action Types). While we can visualize the entire corpus through dimension reduction techniques such as PCA or pick out passages with a high degree of tagging, many of the questions we ask about literary texts concern how texts or passages relate to each other. In what respects are they similar, and in what respects do they differ? LATtice allows us to explore these relations between texts.

SETUP AND REQUIREMENTS
----------------------

LATtice can run on any machine with a Java Runtime Environment installed. Download from http://www.java.com/getjava/ if you need to install the latest JRE. However, it is packaged as double-clickable applications for Mac OS X, Windows and Linux/Unix systems. The LAT graphs would be much easier to explore on larger widescreen monitors, but the program should adjust to any monitor size.

Unzip the file to any convenient folder and double-click on the LATtice application file. Sample data files are provided in the "sample_data" sub-directory.

USAGE
-----

### i. Preparing Data Files

LATtice reads .csv files generated by DocuScope's multi-text viewer. While DocuScope can generate either word-counts or relative frequency counts, you will almost always want to choose frequencies over straight word counts to avoid distortions due to varying sizes of the texts. DocuScope also gives us the option of generating counts for 102 LATs, or 52 dimensions, or 18 clusters (each is a superset of the previous one). LATs give us the finest lens to analyze a text, so we'll probably want to choose that option. There is also a "generate all" option which is best avoided for use with LATtice because it repeats information for cluster subgroups.

### ii. Using the LATtice panels

### a. Heatmap

Once the .csv file is loaded, LATtice generates a grid representing "similarity" or "difference" between the texts. This is based on the Euclidean distance between the vectors that represent the texts. A heatmap is drawn up based on a color coding scheme where darker shades represent texts that are "closer" or more similar and lighter shades represent texts further apart or less similar according to DocuScope's LAT counts. If there are n texts, LATtice draws up an "n x n" grid where the distance of each text from every other text is represented. Of course, this table is symmetrical around the diagonal and the diagonal itself represents the intersection of each text with itself (a text is perfectly similar to itself, so the difference panel shows no bars for these cases). Moving the mouse around the heatmap allows one to quickly explore the LAT distribution for each text pair. 

You can click on a box on the grid to "LOCK" it. This brings up several additional panels that allow you to explore the relationship between the text pair in detail.

### b. LAT Comparison

The top right panel shows how LATs from both the texts relate to each other. The text on the X axis of the heatmap is represented in red and the one on the Y axis is represented in blue in the histogram for side by side comparison.

### c. LAT differences

The bottom panel displays only the LATs whose counts are most dissimilar. This is what accounts for the "difference" between the texts in DocuScope's analysis. If a bar in this panel is red it signifies that for this LAT, the text on the X axis (our 'red' text in the right-top panel) had a higher relative frequency count while a blue bar signals that the Y axis text (our 'blue' text) had a higher count for a particular LAT. This panel lets us quickly explore exactly on what aspects texts differ from each other.

### d. LAT scatterplot

The scatterplot provides a very quick way of looking at "similarity" between texts. It plots the LAT readings of text1 against those of text2. If the first is more, the dot is red, if the second is more the dot is blue and grey dots indicate that both LATs have the same value. The "spread" of the dots gives a rough indication of difference or similarity - where spread out dots indicate dissimilar texts and dots clustering around the diagonal indicate very similar texts.

### e. LAT box and whisket plots

Finally, the box and whisker plots show the distribution of LATs across the entire corpus and also give an indication where the indivudual LATs for the locked text-pair fall when compared to the other texts in the corpus. The box plot, of course, indicates the range between minimum and maximum values and also Q1, median and Q3. For any selected LAT, the values for text1 and text2 are shown as red and blue dots. This gives a quick indication of where they fall compared to the corpus-wide distribution.

### iii. Utilizing meta-data

While LATtice can produce distant grids from any arrangement of texts in the .csv file generated by DocuScope, arranging texts in certain orders according to additional meta-data might be useful in easily highlighting similarities. For this purpose the .csv file may be opened in a spreadsheet like Excel and sorted and also have meta-data added in additional columns. Any columns between the first column (with filenames) and the column where LAT counts begin are ignored by LATtice but may be used to sort the texts into your preferred order. 

SAMPLE DATA-SETS
----------------

The "sample_data" folder supplied with LATtice (not included in public distribution - sorry) includes a few data files to try out in LATtice. The first was generated from Milton's Paradise Lost. The poem was divided into sections based on the speakers (God, Satan, Angels, Devils, Adam, Eve) and the places being described (Heaven, Hell, Paradise). These chunks were then divided into rougly three hundred line sections. 

As an example, as we explore the heatmap for Paradise Lost, we might notice straight away that speakers and place descriptions seem to have very distinct characteristics. Speeches are broadly similar with other speeches and place descriptions (by the narrator) broadly similar with place descriptions. This is not unexpected, but what accounts for these similarities and differences? Exploring the LATs helps us approach this question with a finer lens. Paradise, for example, is full of "sense objects" while Godly and angelic speech does not refer to them as often. Does Adam refer to "common authority" more when he speaks to Eve? Does Satan's defiance leave a linguistic trace that distinguishes him from unfallen angels? Hopefully LATtice will help us explore and answer such questions and let us bring DocuScope's data closer to the nuances of literary reading.

The second sample file is generated from the Shakespeare corpus where the plays were roughly sorted by date of composition.

SUGGESTIONS and BUGS
------------------

I'd love to hear suggestions on what features might help us explore literary texts in a more nuanced manner. I have not had the opportunity to test the program on a variety of hardware and software platforms. I would be grateful for any bug reports or suggestions. Please write to <prime.lens@gmail.com> 
